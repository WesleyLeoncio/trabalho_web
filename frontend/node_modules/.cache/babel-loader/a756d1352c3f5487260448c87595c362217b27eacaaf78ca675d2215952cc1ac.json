{"ast":null,"code":"//baseado em https://www.bezkoder.com/react-jwt-auth/\nimport axios from \"axios\";\nconst API_URL = \"http://localhost:8080/api/auth/\";\nexport const login = async (usuario, senha, lembrar) => {\n  let logado = false;\n  await axios.post(API_URL + \"login\", {\n    usuario,\n    senha,\n    lembrar\n  }).then(response => {\n    if (response.status === 200) {\n      if (response.data.accessToken) {\n        const jsonString = JSON.stringify(response.data);\n        localStorage.setItem(\"user\", jsonString);\n        logado = true;\n      }\n    } else {\n      console.log(\"LOGIN_ERROR: \" + response);\n    }\n  }).catch(error => {\n    console.log(error);\n  });\n  return logado;\n};\nexport const logout = () => {\n  localStorage.removeItem(\"user\");\n};\nexport const getUser = () => {\n  return JSON.parse(localStorage.getItem(\"user\"));\n};\nexport const isAuthenticated = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user && user.accessToken) {\n    return true;\n  } else {\n    return false;\n  }\n};\nexport const authHeader = () => {\n  const user = JSON.parse(localStorage.getItem(\"user\"));\n  if (user && user.accessToken) {\n    return {\n      \"x-access-token\": user.accessToken\n    };\n  } else {\n    return {};\n  }\n};","map":{"version":3,"names":["axios","API_URL","login","usuario","senha","lembrar","logado","post","then","response","status","data","accessToken","jsonString","JSON","stringify","localStorage","setItem","console","log","catch","error","logout","removeItem","getUser","parse","getItem","isAuthenticated","user","authHeader"],"sources":["C:/Users/wesle/OneDrive/Documentos/Git/trabalho_web/frontend/src/services/authServices.js"],"sourcesContent":["//baseado em https://www.bezkoder.com/react-jwt-auth/\nimport axios from \"axios\";\n\nconst API_URL = \"http://localhost:8080/api/auth/\";\n\nexport const login = async (usuario, senha, lembrar) => {\n    let logado = false;\n    await axios\n        .post(API_URL + \"login\", { usuario, senha, lembrar })\n        .then((response) => {\n            if (response.status === 200) {\n                if (response.data.accessToken) {\n                    const jsonString = JSON.stringify(response.data);\n                    localStorage.setItem(\"user\", jsonString);\n                    logado = true;\n                }\n            } else {\n                console.log(\"LOGIN_ERROR: \" + response);\n            }\n        })\n        .catch((error) => {\n            console.log(error);\n        });\n    return logado;\n};\n\nexport const logout = () => {\n    localStorage.removeItem(\"user\");\n};\n\nexport const getUser = () => {\n    return JSON.parse(localStorage.getItem(\"user\"));\n};\n\nexport const isAuthenticated = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user && user.accessToken) {\n        return true;\n    } else {\n        return false;\n    }\n};\n\nexport const authHeader = () => {\n    const user = JSON.parse(localStorage.getItem(\"user\"));\n    if (user && user.accessToken) {\n        return { \"x-access-token\": user.accessToken };\n    } else {\n        return {};\n    }\n};\n"],"mappings":"AAAA;AACA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,OAAO,GAAG,iCAAiC;AAEjD,OAAO,MAAMC,KAAK,GAAG,OAAOC,OAAO,EAAEC,KAAK,EAAEC,OAAO,KAAK;EACpD,IAAIC,MAAM,GAAG,KAAK;EAClB,MAAMN,KAAK,CACNO,IAAI,CAACN,OAAO,GAAG,OAAO,EAAE;IAAEE,OAAO;IAAEC,KAAK;IAAEC;EAAQ,CAAC,CAAC,CACpDG,IAAI,CAAEC,QAAQ,IAAK;IAChB,IAAIA,QAAQ,CAACC,MAAM,KAAK,GAAG,EAAE;MACzB,IAAID,QAAQ,CAACE,IAAI,CAACC,WAAW,EAAE;QAC3B,MAAMC,UAAU,GAAGC,IAAI,CAACC,SAAS,CAACN,QAAQ,CAACE,IAAI,CAAC;QAChDK,YAAY,CAACC,OAAO,CAAC,MAAM,EAAEJ,UAAU,CAAC;QACxCP,MAAM,GAAG,IAAI;MACjB;IACJ,CAAC,MAAM;MACHY,OAAO,CAACC,GAAG,CAAC,eAAe,GAAGV,QAAQ,CAAC;IAC3C;EACJ,CAAC,CAAC,CACDW,KAAK,CAAEC,KAAK,IAAK;IACdH,OAAO,CAACC,GAAG,CAACE,KAAK,CAAC;EACtB,CAAC,CAAC;EACN,OAAOf,MAAM;AACjB,CAAC;AAED,OAAO,MAAMgB,MAAM,GAAG,MAAM;EACxBN,YAAY,CAACO,UAAU,CAAC,MAAM,CAAC;AACnC,CAAC;AAED,OAAO,MAAMC,OAAO,GAAG,MAAM;EACzB,OAAOV,IAAI,CAACW,KAAK,CAACT,YAAY,CAACU,OAAO,CAAC,MAAM,CAAC,CAAC;AACnD,CAAC;AAED,OAAO,MAAMC,eAAe,GAAG,MAAM;EACjC,MAAMC,IAAI,GAAGd,IAAI,CAACW,KAAK,CAACT,YAAY,CAACU,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAIE,IAAI,IAAIA,IAAI,CAAChB,WAAW,EAAE;IAC1B,OAAO,IAAI;EACf,CAAC,MAAM;IACH,OAAO,KAAK;EAChB;AACJ,CAAC;AAED,OAAO,MAAMiB,UAAU,GAAG,MAAM;EAC5B,MAAMD,IAAI,GAAGd,IAAI,CAACW,KAAK,CAACT,YAAY,CAACU,OAAO,CAAC,MAAM,CAAC,CAAC;EACrD,IAAIE,IAAI,IAAIA,IAAI,CAAChB,WAAW,EAAE;IAC1B,OAAO;MAAE,gBAAgB,EAAEgB,IAAI,CAAChB;IAAY,CAAC;EACjD,CAAC,MAAM;IACH,OAAO,CAAC,CAAC;EACb;AACJ,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}