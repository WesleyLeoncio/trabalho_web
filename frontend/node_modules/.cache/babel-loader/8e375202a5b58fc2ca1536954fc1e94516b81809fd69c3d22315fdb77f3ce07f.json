{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\wesle\\\\OneDrive\\\\Documentos\\\\Git\\\\trabalho_web\\\\frontend\\\\src\\\\pages\\\\Login.js\",\n  _s = $RefreshSig$();\nimport * as yup from \"yup\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport FormInput from \"../components/FormInput\";\nimport FormCheckbox from \"../components/FormCheckbox\";\nimport { login } from \"../services/authServices\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst Login = () => {\n  _s();\n  const [inputs, setInputs] = useState({\n    email: \"\",\n    senha: \"\",\n    lembrar: false\n  });\n  const [errors, setErrors] = useState({});\n  const navigate = useNavigate();\n  const validator = yup.object().shape({\n    email: yup.string().email(\"E-mail inválido.\").required(\"E-mail é obrigatório.\"),\n    senha: yup.string().min(6, \"Senha deve ter pelo menos 6 caracteres.\").max(12, \"Senha deve ter no máximo 12 caracteres.\").required(\"Senha é obrigatória.\"),\n    lembrar: yup.boolean().required('A caixa \"Lembrar de mim\" deve ser informada.')\n  });\n  function handleChange(event) {\n    //rawValue é o valor sem máscara e value é o valor com máscara\n    if (event.target.type === \"checkbox\") {\n      const value = event.target.checked;\n      const name = event.target.name;\n      setInputs({\n        ...inputs,\n        [name]: value\n      });\n    } else {\n      const value = event.target.rawValue ? event.target.rawValue : event.target.value;\n      const name = event.target.name;\n      setInputs({\n        ...inputs,\n        [name]: value\n      });\n    }\n  }\n  function handleSubmit(event) {\n    event.preventDefault();\n    validator.validate(inputs, {\n      abortEarly: false\n    }).then(async () => {\n      setErrors({});\n      if (await login(inputs.email, inputs.senha, inputs.lembrar)) {\n        navigate(\"/alunos\");\n      } else {\n        setErrors({\n          email: \"Usuário ou senha inválidos.\"\n        });\n      }\n    }).catch(error => {\n      setErrors({});\n      error.inner.forEach(err => {\n        setErrors(prevErrors => ({\n          ...prevErrors,\n          [err.path]: err.message\n        }));\n      });\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container my-5\",\n      style: {\n        minWidth: \"480px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"col-6 col-md-4 col-xl-3 mx-auto\",\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          className: \"text-center\",\n          style: {\n            fontSize: \"150px\"\n          },\n          children: \"\\uD83C\\uDFCB\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"text-center display-3\",\n          children: \"Academia\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"d-flex justify-content-center align-items-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h2\", {\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n          onSubmit: handleSubmit,\n          noValidate: true,\n          autoComplete: \"off\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FormInput, {\n              type: \"email\",\n              field: \"email\",\n              placeholder: \"fulano@email.com\",\n              label: \"E-mail\",\n              onChange: handleChange,\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.email,\n              error: errors === null || errors === void 0 ? void 0 : errors.email\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 68,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FormInput, {\n              type: \"password\",\n              field: \"senha\",\n              placeholder: \"Senha\",\n              label: \"Senha\",\n              onChange: handleChange,\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.senha,\n              error: errors === null || errors === void 0 ? void 0 : errors.senha\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 71,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(FormCheckbox, {\n              field: \"lembrar\",\n              label: \"Lembrar de mim\",\n              onChange: handleChange,\n              value: inputs === null || inputs === void 0 ? void 0 : inputs.lembrar\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 25\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"mt-3\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-dark btn-lg w-100\",\n              children: \"Entrar\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 77,\n              columnNumber: 29\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 76,\n            columnNumber: 25\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 13\n    }, this)\n  }, void 0, false);\n};\n_s(Login, \"Ioyc/W4oSrdNWYRo5bKAhZ2XEEw=\", false, function () {\n  return [useNavigate];\n});\n_c = Login;\nexport default Login;\nvar _c;\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"names":["yup","useState","useNavigate","FormInput","FormCheckbox","login","Login","inputs","setInputs","email","senha","lembrar","errors","setErrors","navigate","validator","object","shape","string","required","min","max","boolean","handleChange","event","target","type","value","checked","name","rawValue","handleSubmit","preventDefault","validate","abortEarly","then","catch","error","inner","forEach","err","prevErrors","path","message","minWidth","fontSize"],"sources":["C:/Users/wesle/OneDrive/Documentos/Git/trabalho_web/frontend/src/pages/Login.js"],"sourcesContent":["import * as yup from \"yup\";\nimport { useState } from \"react\";\nimport { useNavigate } from \"react-router-dom\";\nimport FormInput from \"../components/FormInput\";\nimport FormCheckbox from \"../components/FormCheckbox\";\nimport { login } from \"../services/authServices\";\n\nconst Login = () => {\n    const [inputs, setInputs] = useState({ email: \"\", senha: \"\", lembrar: false });\n    const [errors, setErrors] = useState({});\n\n    const navigate = useNavigate();\n\n    const validator = yup.object().shape({\n        email: yup.string().email(\"E-mail inválido.\").required(\"E-mail é obrigatório.\"),\n        senha: yup.string().min(6, \"Senha deve ter pelo menos 6 caracteres.\").max(12, \"Senha deve ter no máximo 12 caracteres.\").required(\"Senha é obrigatória.\"),\n        lembrar: yup.boolean().required('A caixa \"Lembrar de mim\" deve ser informada.'),\n    });\n\n    function handleChange(event) {\n        //rawValue é o valor sem máscara e value é o valor com máscara\n        if (event.target.type === \"checkbox\") {\n            const value = event.target.checked;\n            const name = event.target.name;\n            setInputs({ ...inputs, [name]: value });\n        } else {\n            const value = event.target.rawValue ? event.target.rawValue : event.target.value;\n            const name = event.target.name;\n            setInputs({ ...inputs, [name]: value });\n        }\n    }\n\n    function handleSubmit(event) {\n        event.preventDefault();\n        validator\n            .validate(inputs, { abortEarly: false })\n            .then(async () => {\n                setErrors({});\n                if (await login(inputs.email, inputs.senha, inputs.lembrar)) {\n                    navigate(\"/alunos\");\n                } else {\n                    setErrors({ email: \"Usuário ou senha inválidos.\" });\n                }\n            })\n            .catch((error) => {\n                setErrors({});\n                error.inner.forEach((err) => {\n                    setErrors((prevErrors) => ({ ...prevErrors, [err.path]: err.message }));\n                });\n            });\n    }\n\n    return (\n        <>\n            <div className=\"container my-5\" style={{ minWidth: \"480px\" }}>\n                <div className=\"col-6 col-md-4 col-xl-3 mx-auto\">\n                    <p className=\"text-center\" style={{ fontSize: \"150px\" }}>\n                        🏋\n                    </p>\n                    <h1 className=\"text-center display-3\">Academia</h1>\n                    <hr />\n                    <div className=\"d-flex justify-content-center align-items-center\">\n                        <h2>Login</h2>\n                    </div>\n\n                    <form onSubmit={handleSubmit} noValidate autoComplete=\"off\">\n                        <div>\n                            <FormInput type=\"email\" field=\"email\" placeholder=\"fulano@email.com\" label=\"E-mail\" onChange={handleChange} value={inputs?.email} error={errors?.email} />\n                        </div>\n                        <div>\n                            <FormInput type=\"password\" field=\"senha\" placeholder=\"Senha\" label=\"Senha\" onChange={handleChange} value={inputs?.senha} error={errors?.senha} />\n                        </div>\n                        <div>\n                            <FormCheckbox field=\"lembrar\" label=\"Lembrar de mim\" onChange={handleChange} value={inputs?.lembrar} />\n                        </div>\n                        <div className=\"mt-3\">\n                            <button type=\"submit\" className=\"btn btn-dark btn-lg w-100\">\n                                Entrar\n                            </button>\n                        </div>\n                    </form>\n                </div>\n            </div>\n        </>\n    );\n};\n\nexport default Login;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}